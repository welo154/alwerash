# =============================================================================
# Database (Supabase)
# =============================================================================
# Pooled connection for runtime queries (use port 6543 with pgbouncer)
DATABASE_URL="postgresql://postgres.PROJECT_REF:YOUR_PASSWORD@aws-0-REGION.pooler.supabase.com:6543/postgres?pgbouncer=true"

# Direct connection for migrations (use port 5432)
DIRECT_URL="postgresql://postgres:YOUR_PASSWORD@db.PROJECT_REF.supabase.co:5432/postgres"

# Replace PROJECT_REF, REGION, and YOUR_PASSWORD with your Supabase project ref, region, and DB password.

# =============================================================================
# Auth.js / NextAuth
# =============================================================================
# Generate with: openssl rand -base64 32  (or: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))")
AUTH_SECRET="replace-with-generated-secret"

# Set to "true" in development; required for auth callbacks to work
AUTH_TRUST_HOST="true"

# App URL (use your real URL in production)
AUTH_URL="http://localhost:3000"

# Legacy names (Auth.js v4 / NextAuth); optional if you use AUTH_* above
# NEXTAUTH_SECRET="same-as-AUTH_SECRET"
# NEXTAUTH_URL="http://localhost:3000"

# =============================================================================
# Admin seed (for: npx prisma db seed)
# =============================================================================
ADMIN_EMAIL="admin@example.com"
ADMIN_PASSWORD="replace-with-secure-password"
ADMIN_NAME="Platform Admin"

# =============================================================================
# Mux API (video upload & HLS playback)
# =============================================================================
# From Mux dashboard: Settings â†’ Access Tokens
MUX_TOKEN_ID="replace-with-mux-token-id"
MUX_TOKEN_SECRET="replace-with-mux-token-secret"

# Mux webhook signing secret (from webhook config in Mux dashboard)
MUX_WEBHOOK_SECRET="replace-with-webhook-secret"

# Mux signing keypair (optional; only for signed playback)
MUX_SIGNING_KEY_ID="replace-with-signing-key-id"
# PEM: one line with \n for newlines
MUX_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----"

# Playback token TTL (e.g. 2h)
MUX_PLAYBACK_TOKEN_TTL="2h"

# CORS origin for direct upload (your app URL)
MUX_UPLOAD_CORS_ORIGIN="http://localhost:3000"
